# Потоки событий

## Основной поток  
1. Игрок запускает игру. 
2. В верхней части окна есть меню, где можно начать игру заново (пункт меню "Restart"), поменять цвет игрового поля (пункт меню "Background color"),  
   прочесть правила игры (пункт меню "Game's rules"), закрыть приложение (пункт меню "Exit").
3. Игровой процесс начинается сразу после запуска приложения пользователем (игроком). 
4. Игрок выполняет usecase Процесс игры Tetris.

## Процесс игры Tetris  
**Предусловие:**  
1. Игрок (пользователь) запустил приложение.  

**Последовательность:**  
 1. Вариант использования начинается, когда пользователь открыл приложение.
 2. Игрок управляет падающими фигурами с помощью клавиш управления.
 3. Если игрок нажимает клавишу up (вверх), то переход к п.4, иначе к п.5.
 4. Поворот фигуры. Переход к п.3.
 5. Если игрок нажимает клавишу left (влево), то переход к п.6, иначе к п.7.
 6. Движение фигуры влево до тех пор, пока нажата клавиша, либо пока фигура не достигнет левого края поля. Переход к п.3.
 7. Если игрок нажимает клавишу right (вправо), то переход к п.8, иначе к п.9.
 8. Движение фигуры вправо до тех пор, пока нажата клавиша, либо пока фигура не достигнет правого края поля. Переход к п.3.
 9. Если игрок нажимает клави down (вниз), то переход к п.10, иначе переход к п.11.
10. Движение фигуры вниз с ускорением, пока нажата клавиша, либо до тех пор, пока фигура не коснётся остальных фигур, лежащих на нижнем краю поля. Переход к п. 11.
11. Если фигура коснулась остальных фигур, лежащих на нижнем краю поля и заполнился хотя бы один горизонтальный ряд, то переход к п.12, иначе к п.13.
12. Начисление очков игроку согласно правилам игры. Переход к п.13. 
13. Если на поле есть место для появления новой фигуры, то переход к п.3. Иначе переход к п.14.
14. Вывод сообщения о конце игры.
15. Вариант использования завершается. 

## Просмотр правил игры  
**Предусловие:**  
1. Пользователь (игрок) выбрал в меню пункт "Game's rules" (Правила игры).  

**Последовательность:**  
1. Просмотр, понятие и принятие правил игры.  
2. Последовательность завершена.  

## Смена цвета игрового поля  
**Предусловие:**  
1. Пользователь (игрок) выбрал в меню пункт "Background color" (Цвет игрового поля).  

**Последовательность:**  
1. Пользователь (игрок) выбирает понравившийся цвет из представленных в подменю.  
2. Последовательность завершена.  

## Перезапуск игрового процесса    
**Предусловие:**  
1. Пользователь (игрок) выбрал в меню пункт "Restart" (Начать заново). 
 
**Последовательность:**  
1. Пользователь нажимает на выбранный пункт меню.  
2. Процесс игры начинается заново. При этом обнуляется счётчик очков, а также исчезают все фигуры с игрового поля.  
3. Последовательность завершена.  
